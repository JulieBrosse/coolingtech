window.scriptsLoaded = window.scriptsLoaded || {}; window.scriptProcessStart = window.scriptProcessStart || {}; window.scriptProcessStart['owa.vendors~AdsPanel~LightningView~MessageAdList.js'] = (new Date()).getTime();(window.$wj=window.$wj||[]).push([[21],{1543:function(e,n){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},2432:function(e,n,t){"use strict";var r,o=t(0),i=t(2575),s=t(39),a=t(7),d=t(2),u=new d.c(function(){return t.e(245).then(t.bind(null,5703))}),c=new d.b(u,function(e){return e.getVendorListJson});function l(){return o.__awaiter(this,void 0,void 0,function(){var e;return o.__generator(this,function(n){switch(n.label){case 0:return r?[3,2]:[4,c.import()];case 1:e=n.sent(),r=e(),n.label=2;case 2:return[2,r]}})})}function f(e,n,t,r,d){return o.__awaiter(this,void 0,void 0,function(){var u,c,f,p,g,v;return o.__generator(this,function(o){switch(o.label){case 0:return[4,l()];case 1:return(u=o.sent())?((c=new i.ConsentString).setGlobalVendorList(u),f=[],[e,n,t,r,d].forEach(function(e,n){e&&f.push(n+1)}),p=f.length>0?u.vendors.map(function(e){return e.id}):[],g=Object(s.h)().SessionSettings.UserCulture,v=g?g.split("-")[0]:"en",c.setCmpId(168),c.setCmpVersion(1),c.setConsentScreen(1),c.setConsentLanguage(v),c.setPurposesAllowed(f),c.setVendorsAllowed(p),[2,c.getConsentString()]):(a.c.error("Fetching vendor list failed."),[2,null])}})})}var p=t(317);function g(){return o.__awaiter(this,void 0,void 0,function(){var e,n,t;return o.__generator(this,function(r){switch(r.label){case 0:return e=89,[4,p.e.import()];case 1:return[4,r.sent()(p.a.GdprAdsPrefs)];case 2:return null==(n=r.sent())||null==n.consentString?[2,null]:(t=n.consentString,new i.ConsentString(t).getVendorListVersion()<e?[4,f(n.allowStorageAndAccess,n.allowPersonalization,n.allowAdSelectionDeliveryReporting,n.allowContentSelectionDeliveryReporting,n.allowMeasurement)]:[3,5]);case 3:return t=r.sent(),[4,(s=t,a=Object(p.c)(p.a.GdprAdsPrefs),d=o.__assign({},a,{consentString:s}),p.d.importAndExecute(p.a.GdprAdsPrefs,d))];case 4:r.sent(),r.label=5;case 5:return[2,t]}var s,a,d})})}t.d(n,"c",function(){return g}),t.d(n,"b",function(){return f}),t.d(n,"a",function(){return l})},2575:function(e,n,t){var r=t(3025).ConsentString,o=t(2679).decodeConsentString,i=t(2677).encodeConsentString;e.exports={ConsentString:r,decodeConsentString:o,encodeConsentString:i}},2677:function(e,n,t){var r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function o(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}var i=t(2678),s=i.encodeToBase64,a=i.padRight;function d(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,t=Math.max.apply(Math,[0].concat(o(e.map(function(e){return e.id})),o(Array.from(n)))),r="",i=1;i<=t;i+=1)r+=-1!==n.indexOf(i)?"1":"0";return r}function u(e,n){var t=[],r=e.map(function(e){return e.id});return e.reduce(function(i,s,a){var d=s.id;if(-1!==n.indexOf(d)&&t.push(d),(-1===n.indexOf(d)||a===e.length-1||-1===r.indexOf(d+1))&&t.length){var u=t.shift(),c=t.pop();return t=[],[].concat(o(i),[{isRange:"number"==typeof c,startVendorId:u,endVendorId:c}])}return i},[])}e.exports={convertVendorsToRanges:u,encodeConsentString:function(e){var n=e.maxVendorId,t=e.vendorList,o=void 0===t?{}:t,i=e.allowedPurposeIds,c=e.allowedVendorIds,l=o.vendors,f=void 0===l?[]:l,p=o.purposes,g=void 0===p?[]:p;n||(n=0,f.forEach(function(e){e.id>n&&(n=e.id)}));var v=s(r({},e,{maxVendorId:n,purposeIdBitString:d(g,i),isRange:!1,vendorIdBitString:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t="",r=1;r<=e;r+=1)t+=-1!==n.indexOf(r)?"1":"0";return a(t,Math.max(0,e-t.length))}(n,c)})),h=u(f,c),m=s(r({},e,{maxVendorId:n,purposeIdBitString:d(g,i),isRange:!0,defaultConsent:!1,numEntries:h.length,vendorRangeList:h}));return v.length<m.length?v:m}}},2678:function(e,n,t){var r=t(3026),o=t(3027),i=o.versionNumBits,s=o.vendorVersionMap;function a(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",t="",r=0;r<e;r+=1)t+=n;return t}function d(e,n){return a(Math.max(0,n))+e}function u(e,n){return e+a(Math.max(0,n))}function c(e,n){var t="";return"number"!=typeof e||isNaN(e)||(t=parseInt(e,10).toString(2)),n>=t.length&&(t=d(t,n-t.length)),t.length>n&&(t=t.substring(0,n)),t}function l(e){return c(!0===e?1:0,1)}function f(e,n){return e instanceof Date?c(e.getTime()/100,n):c(e,n)}function p(e,n){return c(e.toUpperCase().charCodeAt(0)-65,n)}function g(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return p(e.slice(0,1),n/2)+p(e.slice(1),n/2)}function v(e,n,t){return parseInt(e.substr(n,t),2)}function h(e,n,t){return new Date(100*v(e,n,t))}function m(e,n){return 1===parseInt(e.substr(n,1),2)}function w(e){var n=v(e);return String.fromCharCode(n+65).toLowerCase()}function y(e,n,t){var r=e.substr(n,t);return w(r.slice(0,t/2))+w(r.slice(t/2))}function V(e){var n=e.input,t=e.field,r=t.name,o=t.type,i=t.numBits,s=t.encoder,a=t.validator;if("function"==typeof a&&!a(n))return"";if("function"==typeof s)return s(n);var d="function"==typeof i?i(n):i,p=n[r],v=null===p||void 0===p?"":p;switch(o){case"int":return c(v,d);case"bool":return l(v);case"date":return f(v,d);case"bits":return u(v,d-v.length).substring(0,d);case"list":return v.reduce(function(e,n){return e+b({input:n,fields:t.fields})},"");case"language":return g(v,d);default:throw new Error("ConsentString - Unknown field type "+o+" for encoding")}}function b(e){var n=e.input;return e.fields.reduce(function(e,t){return e+=V({input:n,field:t})},"")}function I(e){var n=e.input,t=e.output,r=e.startPosition,o=e.field,i=o.type,s=o.numBits,a=o.decoder,d=o.validator,u=o.listCount;if("function"==typeof d&&!d(t))return{newPosition:r};if("function"==typeof a)return a(n,t,r);var c="function"==typeof s?s(t):s,l=0;switch("function"==typeof u?l=u(t):"number"==typeof u&&(l=u),i){case"int":return{fieldValue:v(n,r,c)};case"bool":return{fieldValue:m(n,r)};case"date":return{fieldValue:h(n,r,c)};case"bits":return{fieldValue:n.substr(r,c)};case"list":return new Array(l).fill().reduce(function(e){var t=S({input:n,fields:o.fields,startPosition:e.newPosition}),r=t.decodedObject,i=t.newPosition;return{fieldValue:[].concat(function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}(e.fieldValue),[r]),newPosition:i}},{fieldValue:[],newPosition:r});case"language":return{fieldValue:y(n,r,c)};default:throw new Error("ConsentString - Unknown field type "+i+" for decoding")}}function S(e){var n=e.input,t=e.fields,r=e.startPosition,o=void 0===r?0:r;return{decodedObject:t.reduce(function(e,t){var r=t.name,i=t.numBits,s=I({input:n,output:e,startPosition:o,field:t}),a=s.fieldValue,d=s.newPosition;return void 0!==a&&(e[r]=a),void 0!==d?o=d:"number"==typeof i&&(o+=i),e},{}),newPosition:o}}function C(e,n){var t=e.version;if("number"!=typeof t)throw new Error("ConsentString - No version field to encode");if(n[t])return b({input:e,fields:n[t].fields});throw new Error("ConsentString - No definition for version "+t)}e.exports={padRight:u,padLeft:d,encodeField:V,encodeDataToBits:C,encodeIntToBits:c,encodeBoolToBits:l,encodeDateToBits:f,encodeLanguageToBits:g,encodeLetterToBits:p,encodeToBase64:function(e){var n=C(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:s);if(n){for(var t=u(n,7-(n.length+7)%8),o="",i=0;i<t.length;i+=8)o+=String.fromCharCode(parseInt(t.substr(i,8),2));return r.encode(o).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}return null},decodeBitsToIds:function(e){return e.split("").reduce(function(e,n,t){return"1"===n&&-1===e.indexOf(t+1)&&e.push(t+1),e},[])},decodeBitsToInt:v,decodeBitsToDate:h,decodeBitsToBool:m,decodeBitsToLanguage:y,decodeBitsToLetter:w,decodeFromBase64:function(e,n){for(var t=e;t.length%4!=0;)t+="=";t=t.replace(/-/g,"+").replace(/_/g,"/");for(var o=r.decode(t),a="",u=0;u<o.length;u+=1){var c=o.charCodeAt(u).toString(2);a+=d(c,8-c.length)}return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,t=v(e,0,i);if("number"!=typeof t)throw new Error("ConsentString - Unknown version number in the string to decode");if(!s[t])throw new Error("ConsentString - Unsupported version "+t+" in the string to decode");return S({input:e,fields:n[t].fields}).decodedObject}(a,n)}}},2679:function(e,n,t){var r=t(2678),o=r.decodeBitsToIds,i=r.decodeFromBase64;e.exports={decodeConsentString:function(e){var n=i(e),t=n.version,r=n.cmpId,s=n.vendorListVersion,a=n.purposeIdBitString,d=n.maxVendorId,u=n.created,c=n.lastUpdated,l=n.isRange,f=n.defaultConsent,p=n.vendorIdBitString,g=n.vendorRangeList,v=n.cmpVersion,h=n.consentScreen,m=n.consentLanguage,w={version:t,cmpId:r,vendorListVersion:s,allowedPurposeIds:o(a),maxVendorId:d,created:u,lastUpdated:c,cmpVersion:v,consentScreen:h,consentLanguage:m};if(l){var y=g.reduce(function(e,n){for(var t=n.isRange,r=n.startVendorId,o=n.endVendorId,i=t?o:r,s=r;s<=i;s+=1)e[s]=!0;return e},{});w.allowedVendorIds=[];for(var V=0;V<=d;V+=1)(f&&!y[V]||!f&&y[V])&&-1===w.allowedVendorIds.indexOf(V)&&w.allowedVendorIds.push(V)}else w.allowedVendorIds=o(p);return w}}},3025:function(e,n,t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();var i=t(2677).encodeConsentString,s=t(2679).decodeConsentString,a=/^[a-z]{2}$/,d=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.created=new Date,this.lastUpdated=new Date,this.version=1,this.vendorList=null,this.vendorListVersion=null,this.cmpId=null,this.cmpVersion=null,this.consentScreen=null,this.consentLanguage=null,this.allowedPurposeIds=[],this.allowedVendorIds=[],n&&Object.assign(this,s(n))}return o(e,[{key:"getConsentString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!this.vendorList)throw new Error("ConsentString - A vendor list is required to encode a consent string");return!0===e&&(this.lastUpdated=new Date),i({version:this.getVersion(),vendorList:this.vendorList,allowedPurposeIds:this.allowedPurposeIds,allowedVendorIds:this.allowedVendorIds,created:this.created,lastUpdated:this.lastUpdated,cmpId:this.cmpId,cmpVersion:this.cmpVersion,consentScreen:this.consentScreen,consentLanguage:this.consentLanguage,vendorListVersion:this.vendorListVersion})}},{key:"getVersion",value:function(){return this.version}},{key:"getVendorListVersion",value:function(){return this.vendorListVersion}},{key:"setGlobalVendorList",value:function(e){if("object"!==(void 0===e?"undefined":r(e)))throw new Error("ConsentString - You must provide an object when setting the global vendor list");if(!e.vendorListVersion||!Array.isArray(e.purposes)||!Array.isArray(e.vendors))throw new Error("ConsentString - The provided vendor list does not respect the schema from the IAB EU’s GDPR Consent and Transparency Framework");this.vendorList={vendorListVersion:e.vendorListVersion,lastUpdated:e.lastUpdated,purposes:e.purposes,features:e.features,vendors:e.vendors.slice(0).sort(function(e,n){return e.id<n.id?-1:1})},this.vendorListVersion=e.vendorListVersion}},{key:"setCmpId",value:function(e){this.cmpId=e}},{key:"getCmpId",value:function(){return this.cmpId}},{key:"setCmpVersion",value:function(e){this.cmpVersion=e}},{key:"getCmpVersion",value:function(){return this.cmpVersion}},{key:"setConsentScreen",value:function(e){this.consentScreen=e}},{key:"getConsentScreen",value:function(){return this.consentScreen}},{key:"setConsentLanguage",value:function(e){if(!1===a.test(e))throw new Error("ConsentString - The consent language must be a two-letter ISO639-1 code (en, fr, de, etc.)");this.consentLanguage=e}},{key:"getConsentLanguage",value:function(){return this.consentLanguage}},{key:"setPurposesAllowed",value:function(e){this.allowedPurposeIds=e}},{key:"getPurposesAllowed",value:function(){return this.allowedPurposeIds}},{key:"setPurposeAllowed",value:function(e,n){var t=this.allowedPurposeIds.indexOf(e);!0===n?-1===t&&this.allowedPurposeIds.push(e):!1===n&&-1!==t&&this.allowedPurposeIds.splice(t,1)}},{key:"isPurposeAllowed",value:function(e){return-1!==this.purposes.indexOf(e)}},{key:"setVendorsAllowed",value:function(e){this.allowedVendorIds=e}},{key:"getVendorsAllowed",value:function(){return this.allowedVendorIds}},{key:"setVendorAllowed",value:function(e,n){var t=this.allowedVendorIds.indexOf(e);!0===n?-1===t&&this.allowedVendorIds.push(e):!1===n&&-1!==t&&this.allowedVendorIds.splice(t,1)}},{key:"isVendorAllowed",value:function(e){return-1!==this.allowedVendorIds.indexOf(e)}}]),e}();e.exports={ConsentString:d}},3026:function(e,n,t){(function(e,r){var o;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */!function(i){var s="object"==typeof n&&n,a=("object"==typeof e&&e&&e.exports,"object"==typeof r&&r);a.global!==a&&a.window;var d=function(e){this.message=e};(d.prototype=new Error).name="InvalidCharacterError";var u=function(e){throw new d(e)},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=/[\t\n\f\r ]/g,f={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var n,t,r,o,i=e.length%3,s="",a=-1,d=e.length-i;++a<d;)n=e.charCodeAt(a)<<16,t=e.charCodeAt(++a)<<8,r=e.charCodeAt(++a),s+=c.charAt((o=n+t+r)>>18&63)+c.charAt(o>>12&63)+c.charAt(o>>6&63)+c.charAt(63&o);return 2==i?(n=e.charCodeAt(a)<<8,t=e.charCodeAt(++a),s+=c.charAt((o=n+t)>>10)+c.charAt(o>>4&63)+c.charAt(o<<2&63)+"="):1==i&&(o=e.charCodeAt(a),s+=c.charAt(o>>2)+c.charAt(o<<4&63)+"=="),s},decode:function(e){var n=(e=String(e).replace(l,"")).length;n%4==0&&(n=(e=e.replace(/==?$/,"")).length),(n%4==1||/[^+a-zA-Z0-9/]/.test(e))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var t,r,o=0,i="",s=-1;++s<n;)r=c.indexOf(e.charAt(s)),t=o%4?64*t+r:r,o++%4&&(i+=String.fromCharCode(255&t>>(-2*o&6)));return i},version:"0.1.0"};void 0===(o=function(){return f}.call(n,t,n,e))||(e.exports=o)}()}).call(this,t(1543)(e),t(243))},3027:function(e,n){e.exports={versionNumBits:6,vendorVersionMap:{1:{version:1,fields:[{name:"version",type:"int",numBits:6},{name:"created",type:"date",numBits:36},{name:"lastUpdated",type:"date",numBits:36},{name:"cmpId",type:"int",numBits:12},{name:"cmpVersion",type:"int",numBits:12},{name:"consentScreen",type:"int",numBits:6},{name:"consentLanguage",type:"language",numBits:12},{name:"vendorListVersion",type:"int",numBits:12},{name:"purposeIdBitString",type:"bits",numBits:24},{name:"maxVendorId",type:"int",numBits:16},{name:"isRange",type:"bool",numBits:1},{name:"vendorIdBitString",type:"bits",numBits:function(e){return e.maxVendorId},validator:function(e){return!e.isRange}},{name:"defaultConsent",type:"bool",numBits:1,validator:function(e){return e.isRange}},{name:"numEntries",numBits:12,type:"int",validator:function(e){return e.isRange}},{name:"vendorRangeList",type:"list",listCount:function(e){return e.numEntries},validator:function(e){return e.isRange},fields:[{name:"isRange",type:"bool",numBits:1},{name:"startVendorId",type:"int",numBits:16},{name:"endVendorId",type:"int",numBits:16,validator:function(e){return e.isRange}}]}]}}}}}]);
//# sourceMappingURL=owa.vendors~AdsPanel~LightningView~MessageAdList.js.map
window.scriptsLoaded['owa.vendors~AdsPanel~LightningView~MessageAdList.js'] = 1; window.scriptProcessEnd = window.scriptProcessEnd || {}; window.scriptProcessEnd['owa.vendors~AdsPanel~LightningView~MessageAdList.js'] = (new Date()).getTime();